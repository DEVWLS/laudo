:root {
    --primary: #667eea;
    --danger: #dc3545;
    --success: #28a745;
    --warning: #ffc107;
    --muted: #666666;
    --bg: #f8fafc;
}

/* Reset e estilos globais */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Configuração da familia de fontes e cores base */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
body {
    font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    color: #333;
    line-height: 1.6;
    padding: 20px;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Container principal - centralizado e com largura máxima */
.container {
    max-width: 900px;
    margin: 0 auto;
    background: white;
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

/* Cabeçalho com cores suaves */
.header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 40px 20px;
    text-align: center;
    border-bottom: 4px solid #764ba2;
}

/* Estilo do título principal */
.header h1 {
    font-size: clamp(1.2rem, 5vw, 2rem);
    margin-bottom: 15px;
    font-weight: 700;
    letter-spacing: 0.5px;
}

/* Seção de dados do paciente */
.patient-info {
    background: #f8f9fa;
    padding: 20px;
    margin: 20px;
    border-left: 5px solid #667eea;
    border-radius: 8px;
}

/* Grid responsivo para informações do paciente */
.patient-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
}

/* Estilo individual de cada campo do paciente */
.info-field {
    padding: 10px;
}

.info-field strong {
    color: #667eea;
    display: block;
    margin-bottom: 5px;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.info-field p {
    color: #555;
    font-size: 1rem;
}

/* Conteúdo principal - estrutura e espaçamento */
.content {
    padding: 30px 20px;
}

/* Seções de medicamentos e avisos */
.section {
    margin-bottom: 30px;
    padding: 20px;
    background: #fafbfc;
    border-radius: 8px;
    border-left: 5px solid #667eea;
}

/* Estilo dos títulos de seção */
.section h2 {
    color: var(--primary);
    font-size: 1.5rem;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Cabeçalhos de subitens (subseções de medicamento) */
.med-heading {
    color: var(--danger);
    margin-bottom: 10px;
    font-size: 1rem;
}

.muted {
    color: var(--muted);
    margin-bottom: 15px;
}

/* Leve animação de entrada */
@keyframes fadeUp {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
}

.section { animation: fadeUp 360ms ease both; }

/* Ícones indicadores para cada seção */
.section.allowed h2::before { content: "✓"; color: #28a745; font-size: 1.8rem; font-weight: bold; }
.section.not-allowed h2::before { content: "✕"; color: #dc3545; font-size: 1.8rem; font-weight: bold; }
.section.warning h2::before { content: "⚠"; font-size: 1.8rem; }

/* Estilo das listas de medicamentos */
.medicine-list { list-style: none; padding: 0; }
.medicine-list li {
    padding: 12px;
    margin-bottom: 8px;
    background: white;
    border-radius: 6px;
    border-left: 4px solid #667eea;
    transition: all 0.3s ease;
}

.medicine-list li:hover { transform: translateX(5px); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1); }

/* Destaque para medicamentos permitidos */
.allowed .medicine-list li { border-left-color: #28a745; background: #f0f8f5; }

/* Destaque para medicamentos proibidos */
.not-allowed .medicine-list li { border-left-color: #dc3545; background: #fdf6f6; }

/* Seção de observações/avisos */
.warnings { background: #fff3cd; border-left-color: #ffc107; padding: 20px; border-radius: 8px; margin-top: 20px; }
.warnings strong { color: #856404; display: block; margin-bottom: 10px; }
.warnings p { margin-bottom: 10px; color: #856404; font-size: 0.95rem; line-height: 1.7; }

/* Seção de downloads e QR Code */
.download-section { padding: 30px 20px; background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%); border-top: 2px solid #ddd; display: flex; flex-wrap: wrap; gap: 30px; justify-content: center; align-items: center; }

/* Estilo do botão de download */
.download-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px; border: none; cursor: pointer; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); }
.download-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4); }
.download-btn:active { transform: translateY(0); }

/* Seção de visualização do PDF */
.pdf-viewer-section { padding: 30px 20px; background: #f8f9fa; border-top: 2px solid #ddd; text-align: center; }
.pdf-viewer-section h2 { color: #667eea; margin-bottom: 20px; font-size: 1.3rem; }

/* Container responsivo para o iframe */
.pdf-frame-container { position: relative; width: 100%; height: 600px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); overflow: hidden; margin-bottom: 20px; }
.pdf-frame-container iframe { width: 100%; height: 100%; border: none; border-radius: 8px; }

/* Container para QR Code */
.qr-code-container { text-align: center; display: flex; flex-direction: column; align-items: center; gap: 10px; }
.qr-code-container p { color: #666; font-size: 0.9rem; font-weight: 500; }
.qr-code-container img { border: 3px solid #667eea; border-radius: 8px; padding: 10px; background: white; width: 200px; height: 200px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); }

/* Botões de toggle e controles */
.toggle-btn { background: transparent; border: 1px solid rgba(0,0,0,0.06); padding: 6px 10px; border-radius: 6px; font-size: 0.85rem; cursor: pointer; color: var(--primary); display: inline-flex; align-items: center; gap: 8px; }
.controls { display: flex; gap: 10px; align-items: center; }
.medicine-list.collapsed { max-height: 0; overflow: hidden; transition: max-height 260ms ease; padding: 0 12px; margin-bottom: 0; }

/* Ajustes para impressão */
@media print { body { background: white; padding: 0; } .download-section, .pdf-viewer-section, .download-btn, .qr-code-container { display: none !important; } .container { box-shadow: none; max-width: 100%; border-radius: 0; } }

/* Rodapé com informações adicionais */
.footer { background: #2c3e50; color: white; text-align: center; padding: 20px; font-size: 0.9rem; }

/* Responsividade para dispositivos móveis */
@media (max-width: 768px) {
    .header h1 { font-size: 1.3rem; }
    .header { padding: 25px 15px; }
    .content { padding: 15px 10px; }
    .section { padding: 15px; margin-bottom: 20px; }
    .pdf-frame-container { height: 500px; }
    .download-section { flex-direction: column; gap: 20px; padding: 20px; }
    .patient-info-grid { grid-template-columns: 1fr; }
    .download-btn { width: 100%; justify-content: center; }
    .qr-code-container img { width: 150px; height: 150px; }
    .pdf-viewer-section h2 { font-size: 1.1rem; }
}

/* Responsividade extra para telas muito pequenas */
@media (max-width: 480px) {
    body { padding: 10px; }
    .header h1 { font-size: 1.1rem; line-height: 1.3; }
    .section h2 { font-size: 1.2rem; }
    .medicine-list li { padding: 10px; font-size: 0.95rem; }
    .qr-code-container img { width: 120px; height: 120px; }
    .pdf-frame-container { height: 400px; }
    .pdf-viewer-section h2 { font-size: 1rem; }
}

/* Dark theme overrides */
.dark body { background: linear-gradient(135deg, #071023 0%, #001219 100%); color: #e6eef8; }
.dark .container { background: #071028; color: #e6eef8; box-shadow: 0 8px 30px rgba(0,0,0,0.6); }
.dark .header { background: linear-gradient(135deg, #0b1220 0%, #07112a 100%); border-bottom-color: #051022; color: #e6eef8; }
.dark .patient-info, .dark .section, .dark .pdf-viewer-section, .dark .download-section { background: #0b1624; }
.dark .patient-info { border-left-color: #5b7cff; }
.dark .section { border-left-color: #5b7cff; }
.dark .medicine-list li { background: #07131b; color: #e6eef8; border-left-color: rgba(255,255,255,0.06); }
.dark .allowed .medicine-list li { border-left-color: #28a745; background: rgba(40,167,69,0.05); }
.dark .not-allowed .medicine-list li { border-left-color: #dc3545; background: rgba(220,53,69,0.05); }
.dark .warnings { background: #3b2800; color: #fff3cd; border-left-color: #ffb84d; }
.dark .download-btn { box-shadow: 0 6px 20px rgba(0,0,0,0.6); }
.dark .footer { background: #071018; color: #9fb4d6; }

/* Additional animations and UI polish */
:root { --card-radius: 10px; --glass: rgba(255,255,255,0.06); --soft-shadow: 0 8px 30px rgba(16,24,40,0.06); }

/* Animated header gradient */
.header { background: linear-gradient(90deg, #667eea 0%, #764ba2 50%, #5ad0ff 100%); background-size: 300% 300%; animation: gradientShift 8s ease infinite; }
@keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
.header h1 { transform-origin: center; animation: floatTitle 6s ease-in-out infinite; }
@keyframes floatTitle { 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-6px);} }

/* Reveal on scroll */
.reveal { opacity: 0; transform: translateY(12px); transition: opacity 420ms ease, transform 420ms ease; will-change: transform, opacity; }
.reveal.in-view { opacity: 1; transform: none; }

/* Staggered list item reveal */
.medicine-list li { opacity: 0; transform: translateX(-6px); transition: opacity 360ms ease, transform 360ms ease; }
.medicine-list li.in-view { opacity: 1; transform: none; }

/* Button polish + ripple container */
.toggle-btn, .download-btn { position: relative; overflow: hidden; }
.toggle-btn::after, .download-btn::after { content: ''; position: absolute; border-radius: 50%; transform: scale(0); opacity: 0.4; pointer-events: none; }

.ripple { position: absolute; border-radius: 50%; transform: scale(0); animation: rippleAnim 600ms ease-out; background: rgba(255,255,255,0.65); pointer-events: none; }
@keyframes rippleAnim { to { transform: scale(4); opacity: 0; } }

/* Card hover lift */
.medicine-list li:hover { transform: translateY(-6px) scale(1.01); box-shadow: 0 12px 30px rgba(16,24,40,0.06); }

/* Slight glass effect for sections */
.section { backdrop-filter: blur(6px); }

/* QR pulse effect */
.qr-code-container img { transition: transform 420ms ease, box-shadow 420ms ease; }
.qr-code-container img:hover { transform: scale(1.04); box-shadow: 0 12px 30px rgba(102,126,234,0.18); }
